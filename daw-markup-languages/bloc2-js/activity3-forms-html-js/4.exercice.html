<!-- Form: DNI and email validated by JS with required fields -->

<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>4.Validación de DNI y email (con JS)</title>
</head>
<body>

    <h1>4.Validación de DNI y correo (con JS)</h1>

    <form method="post" enctype="text/plain" onsubmit="return validation()">

        <p>DNI: <input id="dni" type=text name="dni" title="Introduce tu DNI" placeholder="00000000Y"/></p>
        <p>Email: <input id= "email" type=text name="email" title="Introduce tu email" placeholder="ejemplo@hola.com"/></p>
        <br>
        <button type="submit">Enviar</button>

    </form>

    <script>

        function validation() {
            let dniValue = document.getElementById("dni").value;
            let emailValue = document.getElementById("email").value;

            if (!(/[0-9]{8}[A-Z]/.test(dniValue)) && !(/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/.test(emailValue))) {
                alert("Error. AMBOS campos son incorrectos");
                return false;
            }

            else if (!(/[0-9]{8}[A-Z]/.test(dniValue))) {
                alert("Error. El DNI introducido es incorrecto");
                return false;
            }

            else if (!(/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/.test(emailValue))) {
                alert("Error. El EMAIL introducido es incorrecto");
                return false;
            }

            else {
                alert("LOS DATOS HAN SIDO VALIDADOS")
            }

            return true;
        }

    </script>
    
</body>

</html>